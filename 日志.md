# 软件工程项目日志

## 项目背景

### 1. Taiga 与 Tenzu (天図) 的关系

**开发团队**: Kaleidos INC

**技术栈**: PostgreSQL, Python Django, Angular, RESTful API

**版本演变**:

- 2024 年 4 月：Taiga 转给 Taiga Cloud Services (TCS)
  - 版本：Taiga 6
  - 模式：SaaS 收费，每月 5 欧元
- 开源版：https://github.com/taigaio
  - 功能完整，但版本老旧
  - Django 3.2.25, Angular 1.5 + CoffeeScript
  - 提供编译好的前端：taiga-front-dist
- TaigaNext 项目转给 BIRU-Scop，更名为 **Tenzu**
  - 技术栈升级：Django 5.2（最新，支持到 2025.12）, Angular 21
  - 功能简单，目前仅有看板功能

### 2. 部署地址

| 系统         | 地址           | API 文档                        |
| ------------ | -------------- | ------------------------------- |
| Taiga (旧版) | taiga.etao.net | https://docs.taiga.io/api.html  |
| Tenzu (新版) | se.etao.net    | https://se.etao.net/api/v1/docs |

---

## 我们的工作

### 2.1 系统对比与功能迁移

对比 Taiga 和 Tenzu，综合两者的文档，完善详细设计。将 Taiga 的后端功能迁移到 Tenzu，实现自己的前端。

**Taiga API 端点汇总**（基于 https://docs.taiga.io/api.html）:

| 模块     | 端点                        | 功能                   |
| -------- | --------------------------- | ---------------------- |
| 认证     | `/api/v1/auth`              | 登录、刷新 Token、注册 |
| 项目模板 | `/api/v1/project-templates` | 项目模板 CRUD          |
| 项目     | `/api/v1/projects`          | 项目管理、统计、标签   |
| 成员     | `/api/v1/memberships`       | 成员邀请与管理         |
| 角色     | `/api/v1/roles`             | 角色权限定义           |
| 里程碑   | `/api/v1/milestones`        | Sprint 管理            |
| 史诗     | `/api/v1/epics`             | Epic 管理              |
| 用户故事 | `/api/v1/userstories`       | Backlog/看板管理       |
| 任务     | `/api/v1/tasks`             | 任务分解               |
| 问题     | `/api/v1/issues`            | Bug/Issue 追踪         |
| Wiki     | `/api/v1/wiki`              | 知识库                 |
| Webhook  | `/api/v1/webhooks`          | 第三方集成             |

### 2.2 架构升级计划

由 Monolith（单体架构）转为 Microservices（微服务架构）：

- **Strangler Fig (绞杀榕) 模式**：逐步替换旧系统
- **领域驱动设计 (DDD)**：按业务领域划分服务
- **服务拆分 (Service Decomposition)**：将单体应用拆分为独立服务

---

## 课程反馈记录

### SRS 阶段

- 参考文件不写网络开源项目名称
- 除国标外可以参考国际标准
- **老师评价**：相当详细
- 图片使用黑白格式
- E-R 图需补充关系说明

### 工具参考

- **endoflife.date**：查询软件生命周期

---

## 技术资料

### Taiga API 认证方式

```
POST /api/v1/auth          # 登录
POST /api/v1/auth/refresh  # 刷新 Token
POST /api/v1/auth/register # 注册
```

### 核心 API 端点

**项目管理**:

- `GET /api/v1/projects` - 获取项目列表
- `POST /api/v1/projects` - 创建项目
- `GET /api/v1/projects/{id}` - 获取项目详情
- `GET /api/v1/projects/by_slug?slug={slug}` - 按 slug 获取项目

**用户故事 (User Stories)**:

- `GET /api/v1/userstories` - 列表
- `POST /api/v1/userstories` - 创建
- `POST /api/v1/userstories/bulk_create` - 批量创建
- `POST /api/v1/userstories/bulk_update_backlog_order` - 批量更新 Backlog 排序
- `POST /api/v1/userstories/bulk_update_kanban_order` - 批量更新看板排序

**任务 (Tasks)**:

- `GET /api/v1/tasks` - 列表
- `POST /api/v1/tasks` - 创建
- `POST /api/v1/tasks/bulk_create` - 批量创建

**里程碑/冲刺 (Milestones)**:

- `GET /api/v1/milestones` - 列表
- `POST /api/v1/milestones` - 创建
- `GET /api/v1/milestones/{id}/stats` - 获取统计信息

---

## 后续计划

- [ ] 完成 Taiga 与 Tenzu 功能对比文档
- [ ] 设计微服务拆分方案
- [ ] 实现前端原型
- [ ] 编写 API 适配层
